<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>promise-examples</title>
  </head>
  <body>
    <script>
      // 模拟后端两张表
      const repos = [
        { name: "jack", owner: "aa", description: "hello jack", id: 1 },
        { name: "mary", owner: "bb", description: "hello mary", id: 2 },
        { name: "kelly", owner: "cc", description: "hello kelly", id: 3 }
      ];

      const owner = [
        { name: "aa", location: "hangzhou", followers: 12 },
        { name: "bb", location: "beijing", followers: 23 },
        { name: "cc", location: "shanghai", followers: 44 }
      ];

      function getRepoById(id) {
        return new Promise((resolve, reject) => {
          const repo = repo.find(repo => repo.id === id);
          if (repo) {
            resolve(repo);
          } else {
            reject(Error("no repo found"));
          }
        });
      }

      getRepoById(1).then(repo => { // 找到 id为1 的 repo
        console.log(repo);
      });
    </script>
  </body>
</html>
